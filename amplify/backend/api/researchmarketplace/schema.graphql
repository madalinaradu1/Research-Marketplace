type User @model @auth(rules: [
  { allow: owner },
  { allow: groups, groups: ["Admin", "Coordinator"] }
]) {
  id: ID!
  name: String!
  email: String!
  role: String! # Student, Faculty, Coordinator, Admin
  major: String
  gpa: Float
  affiliation: String # On-campus / Off-campus
  profileComplete: Boolean
}

type Project @model @auth(rules: [
  { allow: groups, groups: ["Faculty", "Coordinator", "Admin"] },
  { allow: private, operations: [read] }
]) {
  id: ID!
  title: String!
  description: String!
  department: String
  skillsRequired: [String]
  duration: String
  applicationDeadline: AWSDateTime
  facultyID: ID!
  isActive: Boolean
}

type Application @model @auth(rules: [
  { allow: owner },
  { allow: groups, groups: ["Faculty", "Coordinator"] }
]) {
  id: ID!
  studentID: ID!
  projectID: ID!
  statement: String!
  transcriptLink: AWSURL
  status: String! # Pending, Faculty Review, Dept Review, Admin Review, Approved, Returned, Rejected
  createdAt: AWSDateTime
}

type Message @model @auth(rules: [
  { allow: owner },
  { allow: groups, groups: ["Faculty", "Coordinator", "Admin"] }
]) {
  id: ID!
  senderID: ID!
  receiverID: ID!
  body: String!
  sentAt: AWSDateTime
}
